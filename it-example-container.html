<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.3 at Feb 19, 2013 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Maven Unit and Integration Test Guide - Container Integration Test Example</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Karl Heinz Marbaise" />
    <meta name="Date-Revision-yyyymmdd" content="20130219" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                MaUI Test Guide
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
            
                <div class="xleft">
        <span id="publishDate">Last Published: 2013-02-19</span>
                  &nbsp;| <span id="projectVersion">Version: 0.1-SNAPSHOT</span>
                      </div>
            <div class="xright">        
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
            
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="examples.html" title="Examples">Examples</a>
            </li>
          </ul>
                       <h5>Unit Tests</h5>
                  <ul>
                  <li class="none">
                          <a href="overview-unit-test.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="ut-example.html" title="Example">Example</a>
            </li>
                  <li class="none">
                          <a href="ut-example-interface.html" title="Interface">Interface</a>
            </li>
                  <li class="none">
                          <a href="ut-example-mu.html" title="Multiple Usage">Multiple Usage</a>
            </li>
          </ul>
                       <h5>Integration Tests</h5>
                  <ul>
                  <li class="none">
                          <a href="overview-integration-test.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="it-example.html" title="Basic Example">Basic Example</a>
            </li>
                  <li class="none">
                          <a href="it-example-1.html" title="Different Source Location">Different Source Location</a>
            </li>
                  <li class="none">
            <strong>Container Example</strong>
          </li>
                  <li class="none">
                          <a href="it-example-interface.html" title="Interface">Interface</a>
            </li>
                  <li class="none">
                          <a href="it-example-multiple-times.html" title="Running multiple times">Running multiple times</a>
            </li>
          </ul>
                       <h5>Maven Plugin Integration Tests</h5>
                  <ul>
                  <li class="none">
                          <a href="overview-mp-it.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="mp-it-source-example.html" title="Basic Source Example">Basic Source Example</a>
            </li>
                  <li class="none">
                          <a href="mp-it-example.html" title="Basic Example">Basic Example</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                        <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                            <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
            
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!--  --><!-- The Maven Unit- and Integration Test Guide (MaUI for short) --><!--  --><!-- Copyright (c) 2011 by SoftwareEntwicklung Beratung Schulung (SoEBeS) --><!-- Copyright (c) 2011 by Karl Heinz Marbaise --><!--  --><!-- Licensed to the Apache Software Foundation (ASF) under one or more --><!-- contributor license agreements.  See the NOTICE file distributed with --><!-- this work for additional information regarding copyright ownership. --><!-- The ASF licenses this file to You under the Apache License, Version 2.0 --><!-- (the "License"); you may not use this file except in compliance with --><!-- the License.  You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><!--  --><div class="section"><h2>Integration Test Example Container<a name="Integration_Test_Example_Container"></a></h2><p>This example will describe how to do integration-testing with a web application which will be deployed to a servlet container like <a class="externalLink" href="http://tomcat.apache.org">Tomcat</a>.</p><p>In this example we use the <a class="externalLink" href="http://cargo.codehaus.org/Home">CARGO Plugin</a> to do the integration test of a web application. By the help of Cargo it's simply possible to do the startup of a container, deploy the web application (war) start the container and run the integration tests and finally stop the container.</p><p><a class="externalLink" href="http://cargo.codehaus.org/Home#Home-ContainerSupport">Cargo supports a large number of containers</a> which can be used either via the <a class="externalLink" href="http://cargo.codehaus.org/Javadocs">Java API</a> or in our case via the <a class="externalLink" href="http://cargo.codehaus.org/Maven2+plugin">Maven 2/3 Plugin</a>.</p><p>This is of course not the only possibility to start a container, but in my opinion the simplest one but in spite of that very effective.</p><p>In this example we have the following structure of the different modules which are more or less typical for a Maven project which contains a WAR part. This is also true if you have EAR part.</p><p>This first example does not contain any real integration test it will show only the structure of how an integration test looks like in relationship with a WAR package.</p><div class="source"><pre>.
|-- mod-api
|   `-- pom.xml
|-- mod-it
|   `-- pom.xml
|-- mod-war
|   |-- pom.xml
|   `-- src
|       |-- main
|       |   |-- java
|       |   |   `-- com
|       |   |       `-- soebes
|       |   |           `-- wicket
|       |   |               |-- HomePage.java
|       |   |               `-- WicketApplication.java
|       |   |-- resources
|       |   |   |-- com
|       |   |   |   `-- soebes
|       |   |   |       `-- wicket
|       |   |   |           `-- HomePage.html
|       |   |   `-- log4j.properties
|       |   `-- webapp
|       |       `-- WEB-INF
|       |           `-- web.xml
|       `-- test
|           `-- java
|               `-- com
|                   `-- soebes
|                       `-- wicket
|                           |-- Start.java
|                           `-- TestHomePage.java
`-- pom.xml</pre></div><p>Now let us focus on the <tt>mod-it</tt> module which contains the configuration for the <tt>cargo-maven2-plugin</tt> which is responsible to start, deploy and stop the container.</p><p>One of the most important things is that your <tt>mod-it</tt> module contains a dependency to your war project which looks like this in the <tt>pom.xml</tt> file.</p><style type="text/css">
   @import url('attached-includes/css/shCoreDefault.css');
</style>
<div id="highlighter_301063" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number20 index0 alt1">20</div><div class="line number21 index1 alt2">21</div><div class="line number22 index2 alt1">22</div><div class="line number23 index3 alt2">23</div><div class="line number24 index4 alt1">24</div><div class="line number25 index5 alt2">25</div></td><td class="code"><div class="container"><div class="line number20 index0 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">dependency</code><code class="xml plain">></code></div><div class="line number21 index1 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">groupId</code><code class="xml plain">>${project.groupId}&lt;/</code><code class="xml keyword">groupId</code><code class="xml plain">></code></div><div class="line number22 index2 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">artifactId</code><code class="xml plain">>mod-war&lt;/</code><code class="xml keyword">artifactId</code><code class="xml plain">></code></div><div class="line number23 index3 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">version</code><code class="xml plain">>${project.version}&lt;/</code><code class="xml keyword">version</code><code class="xml plain">></code></div><div class="line number24 index4 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">type</code><code class="xml plain">>war&lt;/</code><code class="xml keyword">type</code><code class="xml plain">></code></div><div class="line number25 index5 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">dependency</code><code class="xml plain">></code></div></div></td></tr></tbody></table></div><p>Furthermore we take a look onto the configuration for the cargo-maven2-plugin which contains first the kind of container we would like to run which is defined by the <tt>containerId</tt> and the <tt>zipUrlInstaller</tt> area which defines where to get the container from. In this example the container (Tomcat) will be downloaded automatically from the given download area (url) downloaded into the given folder <tt>downloadDir</tt> and extracted into the given folder <tt>extractDir</tt>. Here we use the default which is defined by the <tt>cargo-maven2-plugin</tt>.</p><p>This approach has the advantage that you don't need to have an installed Tomcat somewhere. This build will work on every platform. The only limitation is that the download via the given url needs internet access.</p><p>The other important thing is under which port the given instance of Tomcat will run which is defined by the <tt>cargo.servlet.port</tt>. This might be changed later using an environment variable to be able to control it from outside. This can be usefull if you are running on an continous integration solution like Jenkins etc.</p><!--  --><!-- We have to update the example with the new version of cargo, cause the parameter downloadDir and extractDir have --><!-- changed. --><!--  --><div id="highlighter_806308" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number55 index0 alt2">55</div><div class="line number56 index1 alt1">56</div><div class="line number57 index2 alt2">57</div><div class="line number58 index3 alt1">58</div><div class="line number59 index4 alt2">59</div><div class="line number60 index5 alt1">60</div><div class="line number61 index6 alt2">61</div><div class="line number62 index7 alt1">62</div><div class="line number63 index8 alt2">63</div><div class="line number64 index9 alt1">64</div><div class="line number65 index10 alt2">65</div><div class="line number66 index11 alt1">66</div><div class="line number67 index12 alt2">67</div><div class="line number68 index13 alt1">68</div><div class="line number69 index14 alt2">69</div><div class="line number70 index15 alt1">70</div><div class="line number71 index16 alt2">71</div><div class="line number72 index17 alt1">72</div><div class="line number73 index18 alt2">73</div><div class="line number74 index19 alt1">74</div><div class="line number75 index20 alt2">75</div><div class="line number76 index21 alt1">76</div><div class="line number77 index22 alt2">77</div></td><td class="code"><div class="container"><div class="line number55 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">groupId</code><code class="xml plain">>org.codehaus.cargo&lt;/</code><code class="xml keyword">groupId</code><code class="xml plain">></code></div><div class="line number56 index1 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">artifactId</code><code class="xml plain">>cargo-maven2-plugin&lt;/</code><code class="xml keyword">artifactId</code><code class="xml plain">></code></div><div class="line number57 index2 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">configuration</code><code class="xml plain">></code></div><div class="line number58 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">wait</code><code class="xml plain">>false&lt;/</code><code class="xml keyword">wait</code><code class="xml plain">></code></div><div class="line number59 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">container</code><code class="xml plain">></code></div><div class="line number60 index5 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">containerId</code><code class="xml plain">>tomcat${tomcat.major}x&lt;/</code><code class="xml keyword">containerId</code><code class="xml plain">></code></div><div class="line number61 index6 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">zipUrlInstaller</code><code class="xml plain">></code></div><div class="line number62 index7 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">url</code><code class="xml plain">><a href="http://archive.apache.org/dist/tomcat/tomcat-">http://archive.apache.org/dist/tomcat/tomcat-</a>${tomcat.major}/v${tomcat.version}/bin/apache-tomcat-${tomcat.version}.tar.gz&lt;/</code><code class="xml keyword">url</code><code class="xml plain">></code></div><div class="line number63 index8 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">extractDir</code><code class="xml plain">>${project.build.directory}/extract/&lt;/</code><code class="xml keyword">extractDir</code><code class="xml plain">></code></div><div class="line number64 index9 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">downloadDir</code><code class="xml plain">>${project.build.directory}/download/&lt;/</code><code class="xml keyword">downloadDir</code><code class="xml plain">></code></div><div class="line number65 index10 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">zipUrlInstaller</code><code class="xml plain">></code></div><div class="line number66 index11 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">output</code><code class="xml plain">>${project.build.directory}/tomcat${tomcat.major}x.log&lt;/</code><code class="xml keyword">output</code><code class="xml plain">></code></div><div class="line number67 index12 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">log</code><code class="xml plain">>${project.build.directory}/cargo.log&lt;/</code><code class="xml keyword">log</code><code class="xml plain">></code></div><div class="line number68 index13 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">container</code><code class="xml plain">></code></div><div class="line number69 index14 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">configuration</code><code class="xml plain">></code></div><div class="line number70 index15 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">home</code><code class="xml plain">>${project.build.directory}/tomcat-${tomcat.version}/container&lt;/</code><code class="xml keyword">home</code><code class="xml plain">></code></div><div class="line number71 index16 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">properties</code><code class="xml plain">></code></div><div class="line number72 index17 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">cargo.logging</code><code class="xml plain">>high&lt;/</code><code class="xml keyword">cargo.logging</code><code class="xml plain">></code></div><div class="line number73 index18 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">cargo.servlet.port</code><code class="xml plain">>9080&lt;/</code><code class="xml keyword">cargo.servlet.port</code><code class="xml plain">></code></div><div class="line number74 index19 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">cargo.tomcat.ajp.port</code><code class="xml plain">>9008&lt;/</code><code class="xml keyword">cargo.tomcat.ajp.port</code><code class="xml plain">></code></div><div class="line number75 index20 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">properties</code><code class="xml plain">></code></div><div class="line number76 index21 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">configuration</code><code class="xml plain">></code></div><div class="line number77 index22 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">configuration</code><code class="xml plain">></code></div></div></td></tr></tbody></table></div><p>The next part is to start the container and deploy the war file into the container which can be achieved by using the following execution block. The <tt>pingURL</tt> is needed to see if your application startup is finished or not. The <tt>pingTimeout</tt> defines how long this will be tried in the worst case. The value is given in ms. The context is usually the name of the war file, but this is not very convenient so you can change this by using the <tt>context</tt> property to control this. Further details can be found in the documentation of the cargo-maven2-plugin.</p><div id="highlighter_662245" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number80 index0 alt1">80</div><div class="line number81 index1 alt2">81</div><div class="line number82 index2 alt1">82</div><div class="line number83 index3 alt2">83</div><div class="line number84 index4 alt1">84</div><div class="line number85 index5 alt2">85</div><div class="line number86 index6 alt1">86</div><div class="line number87 index7 alt2">87</div><div class="line number88 index8 alt1">88</div><div class="line number89 index9 alt2">89</div><div class="line number90 index10 alt1">90</div><div class="line number91 index11 alt2">91</div><div class="line number92 index12 alt1">92</div><div class="line number93 index13 alt2">93</div><div class="line number94 index14 alt1">94</div><div class="line number95 index15 alt2">95</div><div class="line number96 index16 alt1">96</div><div class="line number97 index17 alt2">97</div><div class="line number98 index18 alt1">98</div><div class="line number99 index19 alt2">99</div><div class="line number100 index20 alt1">100</div><div class="line number101 index21 alt2">101</div><div class="line number102 index22 alt1">102</div><div class="line number103 index23 alt2">103</div><div class="line number104 index24 alt1">104</div></td><td class="code"><div class="container"><div class="line number80 index0 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">executions</code><code class="xml plain">></code></div><div class="line number81 index1 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">execution</code><code class="xml plain">></code></div><div class="line number82 index2 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">id</code><code class="xml plain">>start-container&lt;/</code><code class="xml keyword">id</code><code class="xml plain">></code></div><div class="line number83 index3 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">phase</code><code class="xml plain">>pre-integration-test&lt;/</code><code class="xml keyword">phase</code><code class="xml plain">></code></div><div class="line number84 index4 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">goals</code><code class="xml plain">></code></div><div class="line number85 index5 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">goal</code><code class="xml plain">>start&lt;/</code><code class="xml keyword">goal</code><code class="xml plain">></code></div><div class="line number86 index6 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">goal</code><code class="xml plain">>deploy&lt;/</code><code class="xml keyword">goal</code><code class="xml plain">></code></div><div class="line number87 index7 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">goals</code><code class="xml plain">></code></div><div class="line number88 index8 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">configuration</code><code class="xml plain">></code></div><div class="line number89 index9 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">deployer</code><code class="xml plain">></code></div><div class="line number90 index10 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">deployables</code><code class="xml plain">></code></div><div class="line number91 index11 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">deployable</code><code class="xml plain">></code></div><div class="line number92 index12 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">groupId</code><code class="xml plain">>${project.groupId}&lt;/</code><code class="xml keyword">groupId</code><code class="xml plain">></code></div><div class="line number93 index13 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">artifactId</code><code class="xml plain">>mod-war&lt;/</code><code class="xml keyword">artifactId</code><code class="xml plain">></code></div><div class="line number94 index14 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">type</code><code class="xml plain">>war&lt;/</code><code class="xml keyword">type</code><code class="xml plain">></code></div><div class="line number95 index15 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">pingURL</code><code class="xml plain">><a href="http://localhost:9080/mod-war">http://localhost:9080/mod-war</a>&lt;/</code><code class="xml keyword">pingURL</code><code class="xml plain">></code></div><div class="line number96 index16 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">pingTimeout</code><code class="xml plain">>30000&lt;/</code><code class="xml keyword">pingTimeout</code><code class="xml plain">></code></div><div class="line number97 index17 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">properties</code><code class="xml plain">></code></div><div class="line number98 index18 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">context</code><code class="xml plain">>mod-war&lt;/</code><code class="xml keyword">context</code><code class="xml plain">></code></div><div class="line number99 index19 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">properties</code><code class="xml plain">></code></div><div class="line number100 index20 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">deployable</code><code class="xml plain">></code></div><div class="line number101 index21 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">deployables</code><code class="xml plain">></code></div><div class="line number102 index22 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">deployer</code><code class="xml plain">></code></div><div class="line number103 index23 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">configuration</code><code class="xml plain">></code></div><div class="line number104 index24 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">execution</code><code class="xml plain">></code></div></div></td></tr></tbody></table></div><p>And last but not least the final part stopping the container is simply configured by the following execution block.</p><div id="highlighter_721176" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number107 index0 alt2">107</div><div class="line number108 index1 alt1">108</div><div class="line number109 index2 alt2">109</div><div class="line number110 index3 alt1">110</div><div class="line number111 index4 alt2">111</div><div class="line number112 index5 alt1">112</div><div class="line number113 index6 alt2">113</div></td><td class="code"><div class="container"><div class="line number107 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">execution</code><code class="xml plain">></code></div><div class="line number108 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">id</code><code class="xml plain">>stop-container&lt;/</code><code class="xml keyword">id</code><code class="xml plain">></code></div><div class="line number109 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">phase</code><code class="xml plain">>post-integration-test&lt;/</code><code class="xml keyword">phase</code><code class="xml plain">></code></div><div class="line number110 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">goals</code><code class="xml plain">></code></div><div class="line number111 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">goal</code><code class="xml plain">>stop&lt;/</code><code class="xml keyword">goal</code><code class="xml plain">></code></div><div class="line number112 index5 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">goals</code><code class="xml plain">></code></div><div class="line number113 index6 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">execution</code><code class="xml plain">></code></div></div></td></tr></tbody></table></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2010-2013
                        <a href="http://www.soebes.de">SoftwareEntwicklung Beratung Schulung</a>.
            All Rights Reserved.      
            
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
